<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is used to query a specific raster product in the FAO Gismanager.
Because data sets within the database vary greatly between the different
collection this function uses an easily abstractable pattern for the query.
Users can simply query a specific product from a collection for a given
spatio-temporal extent and download all available dimensions. In case user's
only want to download specific dimensions of a product these can be speicifed
as a list object with the dimension argument. Note that temporal
dimensions do not need to be specified since they are derived automatically.
The function requires a valid API key for the FAO Gismanager. User's can
additionally specify the processing to be applied to the resulting raster file
such as if the valid pixel range should be cut to the borders of the aoi
object, tiling and overview creation of the raster and if the raster
shall be compressed. Note that any of these process will increase processing
time on the server-side."><title>Query the FAO database for a specific raster product — wapor_queryRaster • mapme.agriculture</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query the FAO database for a specific raster product — wapor_queryRaster"><meta property="og:description" content="This function is used to query a specific raster product in the FAO Gismanager.
Because data sets within the database vary greatly between the different
collection this function uses an easily abstractable pattern for the query.
Users can simply query a specific product from a collection for a given
spatio-temporal extent and download all available dimensions. In case user's
only want to download specific dimensions of a product these can be speicifed
as a list object with the dimension argument. Note that temporal
dimensions do not need to be specified since they are derived automatically.
The function requires a valid API key for the FAO Gismanager. User's can
additionally specify the processing to be applied to the resulting raster file
such as if the valid pixel range should be cut to the borders of the aoi
object, tiling and overview creation of the raster and if the raster
shall be compressed. Note that any of these process will increase processing
time on the server-side."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mapme.agriculture</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/installation.html">Installation</a>
    <a class="dropdown-item" href="../articles/terminology.html">Terminology</a>
    <a class="dropdown-item" href="../articles/workflow.html">Workflow</a>
    <a class="dropdown-item" href="../articles/usage.html">Calculate Productivity Indicators</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Query the FAO database for a specific raster product</h1>
      
      <div class="d-none name"><code>wapor_queryRaster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is used to query a specific raster product in the FAO Gismanager.
Because data sets within the database vary greatly between the different
collection this function uses an easily abstractable pattern for the query.
Users can simply query a specific product from a collection for a given
spatio-temporal extent and download all available dimensions. In case user's
only want to download specific dimensions of a product these can be speicifed
as a list object with the <code>dimension</code> argument. Note that temporal
dimensions do not need to be specified since they are derived automatically.
The function requires a valid API key for the FAO Gismanager. User's can
additionally specify the processing to be applied to the resulting raster file
such as if the valid pixel range should be cut to the borders of the aoi
object, tiling and overview creation of the raster and if the raster
shall be compressed. Note that any of these process will increase processing
time on the server-side.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">wapor_queryRaster</span><span class="op">(</span>
  collection <span class="op">=</span> <span class="cn">NULL</span>,
  product <span class="op">=</span> <span class="cn">NULL</span>,
  dimensions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  aoi <span class="op">=</span> <span class="cn">NULL</span>,
  begin <span class="op">=</span> <span class="cn">NULL</span>,
  end <span class="op">=</span> <span class="cn">NULL</span>,
  APIkey <span class="op">=</span> <span class="cn">NULL</span>,
  outdir <span class="op">=</span> <span class="st">"."</span>,
  cutline <span class="op">=</span> <span class="cn">FALSE</span>,
  tiled <span class="op">=</span> <span class="cn">FALSE</span>,
  compressed <span class="op">=</span> <span class="cn">FALSE</span>,
  overviews <span class="op">=</span> <span class="cn">FALSE</span>,
  sleep_time <span class="op">=</span> <span class="fl">5</span>,
  stubbornness <span class="op">=</span> <span class="fl">50</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>collection</dt>
<dd><p>A length one charachter vector indication the collection where
the queried product is found.</p></dd>
<dt>product</dt>
<dd><p>A length one character vector indicating the desired product to download.</p></dd>
<dt>dimensions</dt>
<dd><p>A list object specifying the dimensions of the product expect
of the time and measurment dimensions. Any other dimensions needs to be specified
in the form of <code>dimensions = list(KEY = "value")</code>. In cases of products
with only the temporal and measurement dimension an empty list should be handed
to the function. This is also the Default.</p></dd>
<dt>aoi</dt>
<dd><p>An sf object which bounding box is used to clip the raster extent.
This is only relevant for regional or global datasets when clipping is desired.
Simply omit this option when you want to download a complete dataset (e.g.
a global dataset or a very local dataset such as WAPOR L3 data). The function
will issue a warning in these cases that the extent was set to global/regional.</p></dd>
<dt>begin</dt>
<dd><p>A length one character in the form of <code>"YYYY-MM-DD"</code> or an
Date object in the same format. This time parameter is inclusive meaning that
all timestemps equal or higher than <code>begin</code> will be included.</p></dd>
<dt>end</dt>
<dd><p>A length one character in the form of <code>"YYYY-MM-DD"</code> or an
Date object in the same format. This parameter is exclusive meaning that
all timestemps lower that <code>end</code> will be included.</p></dd>
<dt>APIkey</dt>
<dd><p>A length one character containing your API key. Can be obtained
in the profile section at <a href="https://wapor.apps.fao.org" class="external-link">https://wapor.apps.fao.org</a>.</p></dd>
<dt>outdir</dt>
<dd><p>A length one character vector with an existing directory. Any output
files will be written here.</p></dd>
<dt>cutline</dt>
<dd><p>A logical indicating whether the resulting raster should be cut
to the bounding box of the <code>aoi</code> object. Only relevant when aoi is specified.</p></dd>
<dt>tiled</dt>
<dd><p>Logical whether the resulting raster file should be tiled.</p></dd>
<dt>compressed</dt>
<dd><p>Logical to indicate if the resulting raster should be compressed
using LZW.</p></dd>
<dt>overviews</dt>
<dd><p>Logical to indicate if overviews for the resulting raster should
be created.</p></dd>
<dt>sleep_time</dt>
<dd><p>A numeric value indicating the length of time R sleeps
when checking for the availability of the result in seconds. Depending
on the size of the queried raster (e.g. global extent at high spatial resolution)
it might be a good idea to increase the sleep time. Defaults to 10 seconds.</p></dd>
<dt>stubbornness</dt>
<dd><p>Number of maximum iterations the function will query the server
for the result of one raster query. The length of one iteration is derived from
the <code>sleep_time</code> argument. If the maximum number of iterations has been
reached and the server did not finish the calculation the function will return
an error.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Nothing. The function downloads raster files from the FAO WaPOR API to
a specific output directory.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://dariusgoergen.com/" class="external-link">Darius Görgen</a>, <a href="https://mapme-initiative.org/" class="external-link">MAPME-Initiative</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

    </footer></div>

  

  

  </body></html>

